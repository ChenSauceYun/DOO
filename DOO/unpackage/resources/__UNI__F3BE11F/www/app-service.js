if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const a="/static/logo.png",o=(e,t)=>{const a=e.__vccOpts||e;for(const[o,s]of t)a[o]=s;return a};const s=o({data:()=>({username:"",password:"",confirmPassword:"",isRegister:!1,backgroundUrl:"https://via.placeholder.com/750x800/f33e54/ffffff?text=Background",statusBarHeight:0,apiBase:"http://192.168.1.12/DOO/server/api/"}),onLoad(){const e=uni.getSystemInfoSync();this.statusBarHeight=e.statusBarHeight||0;uni.getStorageSync("userInfo")&&uni.switchTab({url:"/pages/tabbar/tabbar-5/tabbar-5"})},methods:{toggleMode(){this.isRegister=!this.isRegister,this.username="",this.password="",this.confirmPassword=""},async handleSubmit(){if(this.username&&this.password)if(this.isRegister){if(this.password!==this.confirmPassword)return void uni.showToast({title:"ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´",icon:"none"});await this.register()}else await this.login();else uni.showToast({title:"è¯·å¡«å†™å®Œæ•´ä¿¡æ¯",icon:"none"})},async register(){uni.showLoading({title:"æ³¨å†Œä¸­..."});try{const e=await uni.request({url:this.apiBase+"register.php",method:"POST",data:{username:this.username,password:this.password},header:{"Content-Type":"application/json"}});uni.hideLoading(),t("log","at pages/login/login.vue:116","æ³¨å†Œå“åº”:",e),201===e.statusCode?(uni.showToast({title:"æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•",icon:"success"}),this.isRegister=!1):uni.showToast({title:e.data.message||"æ³¨å†Œå¤±è´¥",icon:"none"})}catch(e){uni.hideLoading(),t("error","at pages/login/login.vue:132","æ³¨å†Œé”™è¯¯:",e),uni.showToast({title:"ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥åŽç«¯æœåŠ¡",icon:"none"})}},async login(){uni.showLoading({title:"ç™»å½•ä¸­..."});try{const e=await uni.request({url:this.apiBase+"login.php",method:"POST",data:{username:this.username,password:this.password},header:{"Content-Type":"application/json"}});if(uni.hideLoading(),t("log","at pages/login/login.vue:160","ç™»å½•å“åº”:",e),200===e.statusCode){const t=e.data.data;uni.setStorageSync("userInfo",t),uni.setStorageSync("userId",t.id),uni.setStorageSync("isLoggedIn",!0),uni.showToast({title:"ç™»å½•æˆåŠŸ",icon:"success"}),setTimeout((()=>{uni.switchTab({url:"/pages/tabbar/tabbar-5/tabbar-5"})}),1500)}else uni.showToast({title:e.data.message||"ç™»å½•å¤±è´¥",icon:"none"})}catch(e){uni.hideLoading(),t("error","at pages/login/login.vue:186","ç™»å½•é”™è¯¯:",e),uni.showToast({title:"ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥åŽç«¯æœåŠ¡",icon:"none"})}}}},[["render",function(t,o,s,i,n,r){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"status-bar",style:e.normalizeStyle({height:n.statusBarHeight+"px"})},null,4),e.createElementVNode("view",{class:"background-banner",style:e.normalizeStyle({backgroundImage:"url("+n.backgroundUrl+")"})},[e.createElementVNode("view",{class:"banner-overlay"})],4),e.createElementVNode("view",{class:"login-container"},[e.createElementVNode("view",{class:"logo-section"},[e.createElementVNode("image",{class:"logo",src:a,mode:"aspectFit"}),e.createElementVNode("text",{class:"app-name"},"DOO")]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"ç”¨æˆ·å"),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":o[0]||(o[0]=e=>n.username=e),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,512),[[e.vModelText,n.username]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"å¯†ç "),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":o[1]||(o[1]=e=>n.password=e),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç "},null,512),[[e.vModelText,n.password]])]),n.isRegister?(e.openBlock(),e.createElementBlock("view",{key:0,class:"form-item"},[e.createElementVNode("text",{class:"label"},"ç¡®è®¤å¯†ç "),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":o[2]||(o[2]=e=>n.confirmPassword=e),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},null,512),[[e.vModelText,n.confirmPassword]])])):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"btn-primary",onClick:o[3]||(o[3]=(...e)=>r.handleSubmit&&r.handleSubmit(...e))},e.toDisplayString(n.isRegister?"æ³¨å†Œ":"ç™»å½•"),1),e.createElementVNode("view",{class:"switch-mode"},[e.createElementVNode("text",{class:"switch-text"},e.toDisplayString(n.isRegister?"å·²æœ‰è´¦å·ï¼Ÿ":"æ²¡æœ‰è´¦å·ï¼Ÿ"),1),e.createElementVNode("text",{class:"switch-link",onClick:o[4]||(o[4]=(...e)=>r.toggleMode&&r.toggleMode(...e))},e.toDisplayString(n.isRegister?"ç«‹å³ç™»å½•":"ç«‹å³æ³¨å†Œ"),1)])])])])}],["__scopeId","data-v-3bba761d"]]);const i=o({data:()=>({statusBarHeight:0,userInfo:null,oldPassword:"",newPassword:"",confirmPassword:"",apiBase:"http://localhost/DOO/server/api/"}),onLoad(){const e=uni.getSystemInfoSync();this.statusBarHeight=e.statusBarHeight||0,this.loadUserInfo()},methods:{loadUserInfo(){const e=uni.getStorageSync("userInfo");e&&(this.userInfo=e)},async handleChangePassword(){if(this.oldPassword)if(this.newPassword)if(this.newPassword===this.confirmPassword)if(this.newPassword.length<6)uni.showToast({title:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äºŽ6ä½",icon:"none"});else{uni.showLoading({title:"ä¿®æ”¹ä¸­..."});try{const e=await uni.request({url:this.apiBase+"change_password.php",method:"POST",data:{user_id:this.userInfo.id,old_password:this.oldPassword,new_password:this.newPassword},header:{"Content-Type":"application/json"}});uni.hideLoading(),t("log","at pages/settings/settings.vue:110","ä¿®æ”¹å¯†ç å“åº”:",e),200===e.statusCode?(uni.showToast({title:"å¯†ç ä¿®æ”¹æˆåŠŸ",icon:"success"}),this.oldPassword="",this.newPassword="",this.confirmPassword=""):uni.showToast({title:e.data.message||"å¯†ç ä¿®æ”¹å¤±è´¥",icon:"none"})}catch(e){uni.hideLoading(),t("error","at pages/settings/settings.vue:129","ä¿®æ”¹å¯†ç é”™è¯¯:",e),uni.showToast({title:"ç½‘ç»œé”™è¯¯",icon:"none"})}}else uni.showToast({title:"ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥æ–°å¯†ç ",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥åŽŸå¯†ç ",icon:"none"})},handleLogout(){uni.showModal({title:"æç¤º",content:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",success:e=>{e.confirm&&(uni.removeStorageSync("userInfo"),uni.removeStorageSync("isLoggedIn"),uni.showToast({title:"å·²é€€å‡ºç™»å½•",icon:"success"}),setTimeout((()=>{uni.switchTab({url:"/pages/tabbar/tabbar-5/tabbar-5"})}),1e3))}})}}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"status-bar",style:e.normalizeStyle({height:i.statusBarHeight+"px"})},null,4),e.createElementVNode("view",{class:"settings-container"},[e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"ä¿®æ”¹å¯†ç "),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"åŽŸå¯†ç "),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[0]||(a[0]=e=>i.oldPassword=e),type:"password",placeholder:"è¯·è¾“å…¥åŽŸå¯†ç "},null,512),[[e.vModelText,i.oldPassword]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"æ–°å¯†ç "),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[1]||(a[1]=e=>i.newPassword=e),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç "},null,512),[[e.vModelText,i.newPassword]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"ç¡®è®¤å¯†ç "),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[2]||(a[2]=e=>i.confirmPassword=e),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç "},null,512),[[e.vModelText,i.confirmPassword]])]),e.createElementVNode("button",{class:"btn-primary",onClick:a[3]||(a[3]=(...e)=>n.handleChangePassword&&n.handleChangePassword(...e))},"ç¡®è®¤ä¿®æ”¹")]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"è´¦æˆ·æ“ä½œ"),e.createElementVNode("button",{class:"btn-danger",onClick:a[4]||(a[4]=(...e)=>n.handleLogout&&n.handleLogout(...e))},"é€€å‡ºç™»å½•")])])])}],["__scopeId","data-v-df0c87af"]]);const n=o({data:()=>({statusBarHeight:0,userInfo:null,avatarUrl:"https://via.placeholder.com/150",nickname:"",gender:"secret",birthday:"",region:"",bio:"",showUploadModal:!1,apiBase:"http://192.168.1.12/DOO/server/api/"}),onLoad(){const e=uni.getSystemInfoSync();this.statusBarHeight=e.statusBarHeight||0,this.loadUserInfo()},methods:{loadUserInfo(){const e=uni.getStorageSync("userInfo");e&&(this.userInfo=e,this.avatarUrl=e.avatar||"https://via.placeholder.com/150",this.nickname=e.nickname||e.username||"",this.gender=e.gender||"secret",this.birthday=e.birthday||"",this.region=e.region||"",this.bio=e.bio||"")},goBack(){uni.navigateBack()},changeAvatar(){this.showUploadModal=!0},chooseFromAlbum(){uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:async e=>{const t=e.tempFilePaths[0];await this.uploadAvatar(t),this.showUploadModal=!1}})},takePhoto(){uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera"],success:async e=>{const t=e.tempFilePaths[0];await this.uploadAvatar(t),this.showUploadModal=!1}})},async uploadAvatar(e){uni.showLoading({title:"ä¸Šä¼ ä¸­..."});try{const t=await uni.uploadFile({url:this.apiBase+"upload.php",filePath:e,name:"file"}),a=JSON.parse(t.data);200===a.code?(this.avatarUrl=a.data.url,uni.hideLoading(),uni.showToast({title:"å¤´åƒä¸Šä¼ æˆåŠŸ",icon:"success"})):(uni.hideLoading(),uni.showToast({title:a.message||"ä¸Šä¼ å¤±è´¥",icon:"none"}))}catch(a){uni.hideLoading(),t("error","at pages/edit-profile/edit-profile.vue:214","ä¸Šä¼ é”™è¯¯:",a),uni.showToast({title:"ä¸Šä¼ å¤±è´¥",icon:"none"})}},onBirthdayChange(e){this.birthday=e.detail.value},onRegionChange(e){this.region=e.detail.value.join(" ")},onBioInput(e){this.bio.length>200&&(this.bio=this.bio.substring(0,200))},async saveProfile(){if(this.nickname){uni.showLoading({title:"ä¿å­˜ä¸­..."});try{const e=await uni.request({url:this.apiBase+"update_user.php",method:"POST",data:{user_id:this.userInfo.id,nickname:this.nickname,gender:this.gender,birthday:this.birthday,region:this.region,bio:this.bio,avatar:this.avatarUrl},header:{"Content-Type":"application/json"}});if(uni.hideLoading(),200===e.statusCode){const e={...this.userInfo,nickname:this.nickname,gender:this.gender,birthday:this.birthday,region:this.region,bio:this.bio,avatar:this.avatarUrl};uni.setStorageSync("userInfo",e),this.userInfo=e,uni.showToast({title:"ä¿å­˜æˆåŠŸ",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1e3)}else uni.showToast({title:e.data.message||"ä¿å­˜å¤±è´¥",icon:"none"})}catch(e){uni.hideLoading(),t("error","at pages/edit-profile/edit-profile.vue:299","ä¿å­˜é”™è¯¯:",e),uni.showToast({title:"ç½‘ç»œé”™è¯¯",icon:"none"})}}else uni.showToast({title:"è¯·è¾“å…¥æ˜µç§°",icon:"none"})}}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"status-bar",style:e.normalizeStyle({height:i.statusBarHeight+"px"})},null,4),e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"nav-bar"},[e.createElementVNode("text",{class:"nav-back",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},"â€¹"),e.createElementVNode("text",{class:"nav-title"},"ç¼–è¾‘èµ„æ–™"),e.createElementVNode("text",{class:"nav-save",onClick:a[1]||(a[1]=(...e)=>n.saveProfile&&n.saveProfile(...e))},"ä¿å­˜")])]),e.createElementVNode("view",{class:"profile-section"},[e.createElementVNode("view",{class:"avatar-section",onClick:a[2]||(a[2]=(...e)=>n.changeAvatar&&n.changeAvatar(...e))},[e.createElementVNode("image",{class:"avatar",src:i.avatarUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"avatar-edit"},[e.createElementVNode("text",{class:"edit-icon"},"ðŸ“·"),e.createElementVNode("text",{class:"edit-text"},"æ›´æ¢å¤´åƒ")])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"æ˜µç§°"),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[3]||(a[3]=e=>i.nickname=e),placeholder:"è¯·è¾“å…¥æ˜µç§°",maxlength:"20"},null,512),[[e.vModelText,i.nickname]]),e.createElementVNode("text",{class:"count"},e.toDisplayString(i.nickname.length)+"/20",1)]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"æ€§åˆ«"),e.createElementVNode("view",{class:"gender-options"},[e.createElementVNode("view",{class:e.normalizeClass(["gender-option",{active:"male"===i.gender}]),onClick:a[4]||(a[4]=e=>i.gender="male")},[e.createElementVNode("text",{class:"gender-icon"},"â™‚"),e.createElementVNode("text",{class:"gender-text"},"ç”·")],2),e.createElementVNode("view",{class:e.normalizeClass(["gender-option",{active:"female"===i.gender}]),onClick:a[5]||(a[5]=e=>i.gender="female")},[e.createElementVNode("text",{class:"gender-icon"},"â™€"),e.createElementVNode("text",{class:"gender-text"},"å¥³")],2),e.createElementVNode("view",{class:e.normalizeClass(["gender-option",{active:"secret"===i.gender}]),onClick:a[6]||(a[6]=e=>i.gender="secret")},[e.createElementVNode("text",{class:"gender-icon"},"?"),e.createElementVNode("text",{class:"gender-text"},"ä¿å¯†")],2)])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"ç”Ÿæ—¥"),e.createElementVNode("picker",{mode:"date",value:i.birthday,onChange:a[7]||(a[7]=(...e)=>n.onBirthdayChange&&n.onBirthdayChange(...e))},[e.createElementVNode("view",{class:"picker"},[e.createElementVNode("text",{class:"picker-text"},e.toDisplayString(i.birthday||"è¯·é€‰æ‹©ç”Ÿæ—¥"),1),e.createElementVNode("text",{class:"picker-arrow"},"â€º")])],40,["value"])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"åœ°åŒº"),e.createElementVNode("picker",{mode:"region",value:i.region,onChange:a[8]||(a[8]=(...e)=>n.onRegionChange&&n.onRegionChange(...e))},[e.createElementVNode("view",{class:"picker"},[e.createElementVNode("text",{class:"picker-text"},e.toDisplayString(i.region||"è¯·é€‰æ‹©åœ°åŒº"),1),e.createElementVNode("text",{class:"picker-arrow"},"â€º")])],40,["value"])]),e.createElementVNode("view",{class:"form-item textarea-item"},[e.createElementVNode("text",{class:"label"},"ä¸ªäººç®€ä»‹"),e.withDirectives(e.createElementVNode("textarea",{class:"textarea","onUpdate:modelValue":a[9]||(a[9]=e=>i.bio=e),placeholder:"ä»‹ç»ä¸€ä¸‹è‡ªå·±å§...",maxlength:"200",onInput:a[10]||(a[10]=(...e)=>n.onBioInput&&n.onBioInput(...e))},null,544),[[e.vModelText,i.bio]]),e.createElementVNode("text",{class:"count"},e.toDisplayString(i.bio.length)+"/200",1)])])]),i.showUploadModal?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-modal",onClick:a[15]||(a[15]=e.withModifiers((e=>i.showUploadModal=!1),["self"]))},[e.createElementVNode("view",{class:"modal-content",onClick:a[14]||(a[14]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},"é€‰æ‹©å¤´åƒ"),e.createElementVNode("text",{class:"modal-close",onClick:a[11]||(a[11]=e=>i.showUploadModal=!1)},"âœ•")]),e.createElementVNode("view",{class:"modal-body"},[e.createElementVNode("view",{class:"upload-option",onClick:a[12]||(a[12]=(...e)=>n.chooseFromAlbum&&n.chooseFromAlbum(...e))},[e.createElementVNode("text",{class:"upload-icon"},"ðŸ–¼ï¸"),e.createElementVNode("text",{class:"upload-text"},"ä»Žç›¸å†Œé€‰æ‹©")]),e.createElementVNode("view",{class:"upload-option",onClick:a[13]||(a[13]=(...e)=>n.takePhoto&&n.takePhoto(...e))},[e.createElementVNode("text",{class:"upload-icon"},"ðŸ“·"),e.createElementVNode("text",{class:"upload-text"},"æ‹ç…§")])])])])):e.createCommentVNode("",!0)])}],["__scopeId","data-v-9e1aec78"]]);const r=o({data:()=>({activeTab:"recommend",statusBarHeight:0,currentIndex:0,videoList:[],apiBase:"http://192.168.1.12/DOO/server/api/"}),onLoad(){const e=uni.getSystemInfoSync();this.statusBarHeight=e.statusBarHeight||0,this.loadVideoList()},onShow(){this.loadVideoList()},methods:{switchTab(e){this.activeTab=e},onSwiperChange(e){this.currentIndex=e.detail.current},playVideo(e){t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:87","æ’­æ”¾è§†é¢‘:",e),t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:88","å½“å‰æ’­æ”¾çŠ¶æ€:",e.isPlaying),this.videoList.forEach((t=>{t.id===e.id?t.isPlaying=!t.isPlaying:t.isPlaying=!1})),this.videoList=[...this.videoList],t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:97","æ›´æ–°åŽçš„è§†é¢‘åˆ—è¡¨:",this.videoList)},onVideoEnd(e){t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:100","è§†é¢‘æ’­æ”¾ç»“æŸ:",e),e.isPlaying=!1,this.videoList=[...this.videoList]},onVideoPause(e){t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:105","è§†é¢‘æš‚åœ:",e)},onImageError(e){t("error","at pages/tabbar/tabbar-1/tabbar-1.vue:108","å›¾ç‰‡åŠ è½½å¤±è´¥:",e),t("error","at pages/tabbar/tabbar-1/tabbar-1.vue:109","å›¾ç‰‡URL:",e.cover)},onImageLoad(e){t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:112","å›¾ç‰‡åŠ è½½æˆåŠŸ:",e)},async loadVideoList(){try{t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:116","å¼€å§‹èŽ·å–è§†é¢‘åˆ—è¡¨...");const e=await uni.request({url:this.apiBase+"get_videos.php",method:"GET"});t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:122","è§†é¢‘åˆ—è¡¨å“åº”:",e),t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:123","å“åº”çŠ¶æ€ç :",e.statusCode),t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:124","å“åº”æ•°æ®:",e.data),200===e.statusCode&&200===e.data.code?(t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:127","è§†é¢‘æ•°æ®:",e.data.data),this.videoList=e.data.data.map((e=>({id:e.id,cover:e.cover_url||e.video_url,title:e.title,author:e.author||"åŒ¿åç”¨æˆ·",views:e.views+"æ¬¡æ’­æ”¾",duration:e.duration||"00:00",isPlaying:!1}))),t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:137","å¤„ç†åŽçš„è§†é¢‘åˆ—è¡¨:",this.videoList),this.videoList.forEach(((e,a)=>{t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:139",`è§†é¢‘${a}:`,{id:e.id,cover:e.cover,isPlaying:e.isPlaying})}))):t("log","at pages/tabbar/tabbar-1/tabbar-1.vue:146","èŽ·å–è§†é¢‘å¤±è´¥:",e.data.message)}catch(e){t("error","at pages/tabbar/tabbar-1/tabbar-1.vue:149","èŽ·å–è§†é¢‘åˆ—è¡¨é”™è¯¯:",e)}}}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"status-bar",style:e.normalizeStyle({height:i.statusBarHeight+"px"})},null,4),e.createElementVNode("view",{class:"nav-bar"},[e.createElementVNode("view",{class:e.normalizeClass(["nav-item",{active:"recommend"===i.activeTab}]),onClick:a[0]||(a[0]=e=>n.switchTab("recommend"))}," æŽ¨è ",2),e.createElementVNode("view",{class:e.normalizeClass(["nav-item",{active:"follow"===i.activeTab}]),onClick:a[1]||(a[1]=e=>n.switchTab("follow"))}," å…³æ³¨ ",2)]),e.createElementVNode("view",{class:"video-container"},[e.createElementVNode("swiper",{class:"video-swiper",current:i.currentIndex,vertical:"",duration:300,"display-multiple-items":"2",onChange:a[2]||(a[2]=(...e)=>n.onSwiperChange&&n.onSwiperChange(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.videoList,((t,a)=>(e.openBlock(),e.createElementBlock("swiper-item",{class:"swiper-item",key:a},[e.createElementVNode("view",{class:"video-item"},[e.createElementVNode("view",{class:"video-author"},e.toDisplayString(t.author),1),e.createElementVNode("view",{class:"video-cover"},[e.createElementVNode("video",{class:"video-player",src:t.cover,poster:t.cover,controls:"",onClick:e=>n.playVideo(t),onEnded:e=>n.onVideoEnd(t),onPause:e=>n.onVideoPause(t)},null,40,["src","poster","onClick","onEnded","onPause"])]),e.createElementVNode("view",{class:"video-info"},[e.createElementVNode("text",{class:"video-title"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"video-meta"},[e.createElementVNode("text",{class:"views"},e.toDisplayString(t.views),1)])])])])))),128))],40,["current"])])])}],["__scopeId","data-v-93f9e8ac"]]);const l=o({data:()=>({title:"Hello"}),onLoad(){},methods:{}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"}," é¡µé¢ - 2 ")}]]);const c=o({data:()=>({active:!1}),onLoad(){},onShow(){this.active=!0},onHide(){this.active=!1},methods:{goToPage(e){e&&uni.navigateTo({url:e})}}},[["render",function(t,o,s,i,n,r){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["content",{active:n.active}])},[e.createElementVNode("image",{class:e.normalizeClass(["logo",{active:n.active}]),src:a,mode:"aspectFit"},null,2),e.createElementVNode("view",{class:"tabbar-box-wrap"},[e.createElementVNode("view",{class:"tabbar-box"},[e.createElementVNode("view",{class:"tabbar-box-item",onClick:o[0]||(o[0]=e=>r.goToPage("/pages/tabbar-3-detial/tabbar-3-release/tabbar-3-release"))},[e.createElementVNode("image",{class:"box-image",src:"/static/img/release.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"explain"},"å‘å›¾æ–‡")]),e.createElementVNode("view",{class:"tabbar-box-item",onClick:o[1]||(o[1]=e=>r.goToPage("/pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video"))},[e.createElementVNode("image",{class:"box-image",src:"/static/img/video.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"explain"},"å‘è§†é¢‘")]),e.createElementVNode("view",{class:"tabbar-box-item",onClick:o[2]||(o[2]=e=>r.goToPage("/pages/tabbar-3-detial/tabbar-3-qa/tabbar-3-qa"))},[e.createElementVNode("image",{class:"box-image",src:"/static/img/qa.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"explain"},"æé—®")])])])],2)}],["__scopeId","data-v-f81df76f"]]);const d=o({data:()=>({title:"Hello"}),onLoad(){},methods:{}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"}," é¡µé¢ - 4 ")}]]);const u=o({data:()=>({avatarUrl:"https://via.placeholder.com/150",nickname:"æœªç™»å½•",isLoggedIn:!1,backgroundUrl:"https://via.placeholder.com/750x450/f33e54/ffffff?text=Background",statusBarHeight:0,userInfo:null,apiBase:"http://192.168.1.12/DOO/server/api/",showPasswordModal:!1,oldPassword:"",newPassword:"",confirmPassword:"",showOldPassword:!1,showNewPassword:!1,showConfirmPassword:!1,passwordStrength:{score:0,text:"",class:""},passwordMatch:!1}),computed:{canSubmit(){return this.oldPassword&&this.newPassword&&this.confirmPassword&&this.newPassword===this.confirmPassword&&this.newPassword.length>=6}},onLoad(){const e=uni.getSystemInfoSync();this.statusBarHeight=e.statusBarHeight||0,this.loadUserInfo()},onShow(){this.loadUserInfo()},methods:{loadUserInfo(){const e=uni.getStorageSync("userInfo"),a=uni.getStorageSync("isLoggedIn");t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:203","loadUserInfo - ä»Žå­˜å‚¨è¯»å–:",e),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:204","loadUserInfo - ç™»å½•çŠ¶æ€:",a),a&&e?(this.isLoggedIn=!0,this.userInfo=e,this.nickname=e.nickname||e.username,this.avatarUrl=e.avatar||"https://via.placeholder.com/150",this.backgroundUrl=e.background_image||"https://via.placeholder.com/750x450/f33e54/ffffff?text=Background",t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:212","loadUserInfo - å¤´åƒURL:",this.avatarUrl),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:213","loadUserInfo - èƒŒæ™¯URL:",this.backgroundUrl)):(this.isLoggedIn=!1,this.userInfo=null,this.nickname="æœªç™»å½•",this.avatarUrl="https://via.placeholder.com/150",this.backgroundUrl="https://via.placeholder.com/750x450/f33e54/ffffff?text=Background",t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:220","loadUserInfo - æœªç™»å½•ï¼Œä½¿ç”¨é»˜è®¤å€¼"))},handleLogin(){uni.navigateTo({url:"/pages/login/login"})},handleRegister(){uni.navigateTo({url:"/pages/login/login?mode=register"})},handleEdit(){uni.showToast({title:"ç¼–è¾‘èµ„æ–™åŠŸèƒ½å¼€å‘ä¸­",icon:"none"})},goToEditProfile(){this.isLoggedIn?uni.navigateTo({url:"/pages/edit-profile/edit-profile"}):uni.showToast({title:"è¯·å…ˆç™»å½•",icon:"none"})},changeAvatar(){this.isLoggedIn?uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:async e=>{const t=e.tempFilePaths[0];await this.uploadImage(t,"avatar")}}):uni.showToast({title:"è¯·å…ˆç™»å½•",icon:"none"})},changeBackground(){this.isLoggedIn?uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:async e=>{const t=e.tempFilePaths[0];await this.uploadImage(t,"background")}}):uni.showToast({title:"è¯·å…ˆç™»å½•",icon:"none"})},async uploadImage(e,a){uni.showLoading({title:"ä¸Šä¼ ä¸­..."});try{t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:303","å¼€å§‹ä¸Šä¼ å›¾ç‰‡:",e,a);const s=await uni.uploadFile({url:this.apiBase+"upload.php",filePath:e,name:"file"});if(t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:311","ä¸Šä¼ å“åº”:",s),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:312","å“åº”çŠ¶æ€ç :",s.statusCode),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:313","å“åº”æ•°æ®:",s.data),!s.data)return uni.hideLoading(),void uni.showToast({title:"ä¸Šä¼ å¤±è´¥ï¼ŒæœåŠ¡å™¨æœªè¿”å›žæ•°æ®",icon:"none"});let i;try{i=JSON.parse(s.data)}catch(o){return uni.hideLoading(),t("error","at pages/tabbar/tabbar-5/tabbar-5.vue:329","JSONè§£æžå¤±è´¥:",o,s.data),void uni.showToast({title:"æœåŠ¡å™¨è¿”å›žæ•°æ®æ ¼å¼é”™è¯¯",icon:"none"})}if(t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:337","è§£æžåŽçš„æ•°æ®:",i),200===i.code){const e=i.data.url;t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:341","èŽ·å–åˆ°çš„å›¾ç‰‡URL:",e),"avatar"===a?(t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:344","æ›´æ–°å¤´åƒ:",e),this.avatarUrl=e,await this.updateUserInfo({avatar:e}),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:347","å¤´åƒå·²è®¾ç½®:",this.avatarUrl)):"background"===a&&(t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:349","æ›´æ–°èƒŒæ™¯:",e),this.backgroundUrl=e,await this.updateUserInfo({background_image:e}),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:352","èƒŒæ™¯å·²è®¾ç½®:",this.backgroundUrl)),uni.hideLoading(),uni.showToast({title:"ä¸Šä¼ æˆåŠŸ",icon:"success"})}else uni.hideLoading(),uni.showToast({title:i.message||"ä¸Šä¼ å¤±è´¥",icon:"none"})}catch(s){uni.hideLoading(),t("error","at pages/tabbar/tabbar-5/tabbar-5.vue:369","ä¸Šä¼ é”™è¯¯:",s),uni.showToast({title:"ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥",icon:"none"})}},async updateUserInfo(e){try{t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:379","æ›´æ–°ç”¨æˆ·ä¿¡æ¯:",e);const a=await uni.request({url:this.apiBase+"update_user.php",method:"POST",data:{user_id:this.userInfo.id,...e},header:{"Content-Type":"application/json"}});if(t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:393","æ›´æ–°å“åº”:",a),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:394","å“åº”çŠ¶æ€ç :",a.statusCode),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:395","å“åº”æ•°æ®:",a.data),200===a.statusCode){const a={...this.userInfo,...e};this.userInfo=a,uni.setStorageSync("userInfo",a),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:401","ç”¨æˆ·ä¿¡æ¯å·²æ›´æ–°:",a),e.avatar&&(this.avatarUrl=e.avatar,t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:405","å¤´åƒå·²æ›´æ–°åˆ°è§†å›¾:",this.avatarUrl)),e.background_image&&(this.backgroundUrl=e.background_image,t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:409","èƒŒæ™¯å·²æ›´æ–°åˆ°è§†å›¾:",this.backgroundUrl)),this.$forceUpdate()}else t("error","at pages/tabbar/tabbar-5/tabbar-5.vue:414","æ›´æ–°å¤±è´¥:",a.data)}catch(a){t("error","at pages/tabbar/tabbar-5/tabbar-5.vue:417","æ›´æ–°ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",a)}},checkPasswordStrength(){if(!this.newPassword)return void(this.passwordStrength={score:0,text:"",class:""});let e=0;const t=this.newPassword;t.length>=6&&e++,t.length>=10&&e++,t.length>=12&&e++,/[a-z]/.test(t)&&e++,/[A-Z]/.test(t)&&e++,/[0-9]/.test(t)&&e++,/[^a-zA-Z0-9]/.test(t)&&e++,this.passwordStrength=e<=2?{score:e,text:"å¼±",class:"weak"}:e<=4?{score:e,text:"ä¸­",class:"medium"}:{score:e,text:"å¼º",class:"strong"}},checkPasswordMatch(){this.confirmPassword?this.passwordMatch=this.newPassword===this.confirmPassword:this.passwordMatch=!1},handleChangePassword(){this.isLoggedIn?(this.showPasswordModal=!0,this.oldPassword="",this.newPassword="",this.confirmPassword=""):uni.showToast({title:"è¯·å…ˆç™»å½•",icon:"none"})},async confirmChangePassword(){if(this.canSubmit){uni.showLoading({title:"ä¿®æ”¹ä¸­..."});try{const e=await uni.request({url:this.apiBase+"change_password.php",method:"POST",data:{user_id:this.userInfo.id,old_password:this.oldPassword,new_password:this.newPassword},header:{"Content-Type":"application/json"}});uni.hideLoading(),t("log","at pages/tabbar/tabbar-5/tabbar-5.vue:496","ä¿®æ”¹å¯†ç å“åº”:",e),200===e.statusCode?(uni.showToast({title:"å¯†ç ä¿®æ”¹æˆåŠŸ",icon:"success"}),this.showPasswordModal=!1,this.oldPassword="",this.newPassword="",this.confirmPassword="",this.passwordStrength={score:0,text:"",class:""},this.passwordMatch=!1):uni.showToast({title:e.data.message||"å¯†ç ä¿®æ”¹å¤±è´¥",icon:"none"})}catch(e){uni.hideLoading(),t("error","at pages/tabbar/tabbar-5/tabbar-5.vue:518","ä¿®æ”¹å¯†ç é”™è¯¯:",e),uni.showToast({title:"ç½‘ç»œé”™è¯¯",icon:"none"})}}},handleLogout(){this.isLoggedIn?uni.showModal({title:"æç¤º",content:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",success:e=>{e.confirm&&(uni.removeStorageSync("userInfo"),uni.removeStorageSync("isLoggedIn"),this.isLoggedIn=!1,this.userInfo=null,this.nickname="æœªç™»å½•",this.avatarUrl="https://via.placeholder.com/150",this.backgroundUrl="https://via.placeholder.com/750x450/f33e54/ffffff?text=Background",uni.showToast({title:"å·²é€€å‡ºç™»å½•",icon:"success"}))}}):uni.showToast({title:"è¯·å…ˆç™»å½•",icon:"none"})},handleMenuClick(e){uni.showToast({title:{myPosts:"æˆ‘çš„å¸–å­",myVideos:"æˆ‘çš„è§†é¢‘",myQuestions:"æˆ‘çš„æé—®",favorites:"æˆ‘çš„æ”¶è—",aboutUs:"å…³äºŽæˆ‘ä»¬"}[e],icon:"none"})}}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"status-bar",style:e.normalizeStyle({height:i.statusBarHeight+"px"})},null,4),e.createElementVNode("view",{class:"background-banner",style:e.normalizeStyle({backgroundImage:"url("+i.backgroundUrl+")"}),onClick:a[0]||(a[0]=(...e)=>n.changeBackground&&n.changeBackground(...e))},[e.createElementVNode("view",{class:"banner-overlay"})],4),e.createElementVNode("view",{class:"user-card"},[e.createElementVNode("view",{class:"avatar-wrapper",onClick:a[1]||(a[1]=(...e)=>n.changeAvatar&&n.changeAvatar(...e))},[e.createElementVNode("image",{class:"avatar",src:i.avatarUrl,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"user-info"},[e.createElementVNode("text",{class:"nickname"},e.toDisplayString(i.nickname),1),i.isLoggedIn?(e.openBlock(),e.createElementBlock("view",{key:0,class:"user-stats"},[e.createElementVNode("text",{class:"stat-item"},"ç²‰ä¸ 0"),e.createElementVNode("text",{class:"stat-divider"},"|"),e.createElementVNode("text",{class:"stat-item"},"å…³æ³¨ 0"),e.createElementVNode("text",{class:"stat-divider"},"|"),e.createElementVNode("text",{class:"stat-item"},"èŽ·èµž 0")])):e.createCommentVNode("",!0)]),i.isLoggedIn?(e.openBlock(),e.createElementBlock("view",{key:1,class:"edit-btn",onClick:a[4]||(a[4]=(...e)=>n.goToEditProfile&&n.goToEditProfile(...e))},[e.createElementVNode("text",{class:"edit-text"},"ç¼–è¾‘èµ„æ–™")])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"button-group"},[e.createElementVNode("button",{class:"btn btn-login",onClick:a[2]||(a[2]=(...e)=>n.handleLogin&&n.handleLogin(...e))},"ç™»å½•"),e.createElementVNode("button",{class:"btn btn-register",onClick:a[3]||(a[3]=(...e)=>n.handleRegister&&n.handleRegister(...e))},"æ³¨å†Œ")]))]),e.createElementVNode("view",{class:"menu-list"},[e.createElementVNode("view",{class:"menu-item",onClick:a[5]||(a[5]=e=>n.handleMenuClick("myPosts"))},[e.createElementVNode("view",{class:"menu-icon"},[e.createElementVNode("text",{class:"icon-text"},"ðŸ“")]),e.createElementVNode("text",{class:"menu-text"},"æˆ‘çš„å¸–å­"),e.createElementVNode("text",{class:"menu-arrow"},"â€º")]),e.createElementVNode("view",{class:"menu-item",onClick:a[6]||(a[6]=e=>n.handleMenuClick("myVideos"))},[e.createElementVNode("view",{class:"menu-icon"},[e.createElementVNode("text",{class:"icon-text"},"ðŸŽ¬")]),e.createElementVNode("text",{class:"menu-text"},"æˆ‘çš„è§†é¢‘"),e.createElementVNode("text",{class:"menu-arrow"},"â€º")]),e.createElementVNode("view",{class:"menu-item",onClick:a[7]||(a[7]=e=>n.handleMenuClick("myQuestions"))},[e.createElementVNode("view",{class:"menu-icon"},[e.createElementVNode("text",{class:"icon-text"},"â“")]),e.createElementVNode("text",{class:"menu-text"},"æˆ‘çš„æé—®"),e.createElementVNode("text",{class:"menu-arrow"},"â€º")]),e.createElementVNode("view",{class:"menu-item",onClick:a[8]||(a[8]=e=>n.handleMenuClick("favorites"))},[e.createElementVNode("view",{class:"menu-icon"},[e.createElementVNode("text",{class:"icon-text"},"â­")]),e.createElementVNode("text",{class:"menu-text"},"æˆ‘çš„æ”¶è—"),e.createElementVNode("text",{class:"menu-arrow"},"â€º")]),e.createElementVNode("view",{class:"menu-item",onClick:a[9]||(a[9]=e=>n.handleMenuClick("aboutUs"))},[e.createElementVNode("view",{class:"menu-icon"},[e.createElementVNode("text",{class:"icon-text"},"â„¹ï¸")]),e.createElementVNode("text",{class:"menu-text"},"å…³äºŽæˆ‘ä»¬"),e.createElementVNode("text",{class:"menu-arrow"},"â€º")]),e.createElementVNode("view",{class:"menu-item",onClick:a[10]||(a[10]=(...e)=>n.handleChangePassword&&n.handleChangePassword(...e))},[e.createElementVNode("view",{class:"menu-icon"},[e.createElementVNode("text",{class:"icon-text"},"ðŸ”‘")]),e.createElementVNode("text",{class:"menu-text"},"ä¿®æ”¹å¯†ç "),e.createElementVNode("text",{class:"menu-arrow"},"â€º")]),e.createElementVNode("view",{class:"menu-item",onClick:a[11]||(a[11]=(...e)=>n.handleLogout&&n.handleLogout(...e))},[e.createElementVNode("view",{class:"menu-icon"},[e.createElementVNode("text",{class:"icon-text"},"ðŸšª")]),e.createElementVNode("text",{class:"menu-text"},"é€€å‡ºç™»å½•"),e.createElementVNode("text",{class:"menu-arrow"},"â€º")])]),i.showPasswordModal?(e.openBlock(),e.createElementBlock("view",{key:0,class:"password-modal",onClick:a[24]||(a[24]=e.withModifiers((e=>i.showPasswordModal=!1),["self"]))},[e.createElementVNode("view",{class:"modal-content",onClick:a[23]||(a[23]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},"ä¿®æ”¹å¯†ç "),e.createElementVNode("text",{class:"modal-close",onClick:a[12]||(a[12]=e=>i.showPasswordModal=!1)},"âœ•")]),e.createElementVNode("view",{class:"modal-body"},[e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"åŽŸå¯†ç "),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[13]||(a[13]=e=>i.oldPassword=e),type:i.showOldPassword?"text":"password",placeholder:"è¯·è¾“å…¥åŽŸå¯†ç ","placeholder-style":{color:"#999999"}},null,8,["type"]),[[e.vModelDynamic,i.oldPassword]]),e.createElementVNode("text",{class:"toggle-password",onClick:a[14]||(a[14]=e=>i.showOldPassword=!i.showOldPassword)},e.toDisplayString(i.showOldPassword?"éšè—":"æ˜¾ç¤º"),1)])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"æ–°å¯†ç "),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[15]||(a[15]=e=>i.newPassword=e),type:i.showNewPassword?"text":"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ï¼ˆ6-20ä½ï¼‰","placeholder-style":{color:"#999999"},maxlength:"20",onInput:a[16]||(a[16]=(...e)=>n.checkPasswordStrength&&n.checkPasswordStrength(...e))},null,40,["type"]),[[e.vModelDynamic,i.newPassword]]),e.createElementVNode("text",{class:"toggle-password",onClick:a[17]||(a[17]=e=>i.showNewPassword=!i.showNewPassword)},e.toDisplayString(i.showNewPassword?"éšè—":"æ˜¾ç¤º"),1)]),i.newPassword?(e.openBlock(),e.createElementBlock("view",{key:0,class:"password-strength"},[e.createElementVNode("text",{class:"strength-label"},"å¯†ç å¼ºåº¦:"),e.createElementVNode("view",{class:"strength-bar"},[e.createElementVNode("view",{class:e.normalizeClass(["strength-fill",i.passwordStrength.class])},null,2)]),e.createElementVNode("text",{class:e.normalizeClass(["strength-text",i.passwordStrength.class])},e.toDisplayString(i.passwordStrength.text),3)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"ç¡®è®¤å¯†ç "),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[18]||(a[18]=e=>i.confirmPassword=e),type:i.showConfirmPassword?"text":"password",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ","placeholder-style":{color:"#999999"},onInput:a[19]||(a[19]=(...e)=>n.checkPasswordMatch&&n.checkPasswordMatch(...e))},null,40,["type"]),[[e.vModelDynamic,i.confirmPassword]]),e.createElementVNode("text",{class:"toggle-password",onClick:a[20]||(a[20]=e=>i.showConfirmPassword=!i.showConfirmPassword)},e.toDisplayString(i.showConfirmPassword?"éšè—":"æ˜¾ç¤º"),1)]),i.confirmPassword?(e.openBlock(),e.createElementBlock("text",{key:0,class:"match-hint"},[i.passwordMatch?(e.openBlock(),e.createElementBlock("text",{key:0,class:"match-success"},"âœ“ å¯†ç ä¸€è‡´")):(e.openBlock(),e.createElementBlock("text",{key:1,class:"match-error"},"âœ— å¯†ç ä¸ä¸€è‡´"))])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"modal-footer"},[e.createElementVNode("button",{class:"btn-cancel",onClick:a[21]||(a[21]=e=>i.showPasswordModal=!1)},"å–æ¶ˆ"),e.createElementVNode("button",{class:"btn-confirm",onClick:a[22]||(a[22]=(...e)=>n.confirmChangePassword&&n.confirmChangePassword(...e)),disabled:!n.canSubmit},"ç¡®è®¤",8,["disabled"])])])])):e.createCommentVNode("",!0)])}],["__scopeId","data-v-1ab50704"]]);const m=o({data:()=>({title:"Hello"}),onLoad(){},methods:{}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"}," é¡µé¢ - å‘å›¾æ–‡ ")}]]);const h=o({data:()=>({videoUrl:"",title:"",description:"",tags:[],tagInput:"",showUploadModal:!1,apiBase:"http://192.168.1.12/DOO/server/api/"}),methods:{goBack(){uni.navigateBack()},chooseVideo(){this.showUploadModal=!0},chooseFromAlbum(){uni.chooseVideo({sourceType:["album"],maxDuration:60,success:e=>{this.videoUrl=e.tempFilePath,this.showUploadModal=!1}})},recordVideo(){uni.chooseVideo({sourceType:["camera"],maxDuration:60,success:e=>{this.videoUrl=e.tempFilePath,this.showUploadModal=!1}})},removeVideo(){uni.showModal({title:"æç¤º",content:"ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè§†é¢‘å—ï¼Ÿ",success:e=>{e.confirm&&(this.videoUrl="")}})},onDescriptionInput(e){this.description.length>200&&(this.description=this.description.substring(0,200))},addTag(){if(this.tagInput.trim()){if(this.tags.length>=5)return void uni.showToast({title:"æœ€å¤šæ·»åŠ 5ä¸ªè¯é¢˜",icon:"none"});this.tags.includes(this.tagInput.trim())||this.tags.push(this.tagInput.trim()),this.tagInput=""}},removeTag(e){this.tags.splice(e,1)},async publishVideo(){if(!this.videoUrl)return void uni.showToast({title:"è¯·å…ˆä¸Šä¼ è§†é¢‘",icon:"none"});if(!this.title.trim())return void uni.showToast({title:"è¯·è¾“å…¥è§†é¢‘æ ‡é¢˜",icon:"none"});const e=uni.getStorageSync("userId")||uni.getStorageSync("user_id")||0;t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:188","å½“å‰ç”¨æˆ·ID:",e),t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:189","è§†é¢‘æ ‡é¢˜:",this.title),t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:190","è§†é¢‘æè¿°:",this.description),uni.showLoading({title:"å‘å¸ƒä¸­..."});try{const o=await uni.uploadFile({url:this.apiBase+"upload.php",filePath:this.videoUrl,name:"file"});let s;t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:203","ä¸Šä¼ å“åº”:",o),t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:204","ä¸Šä¼ å“åº”æ•°æ®:",o.data);try{s=JSON.parse(o.data)}catch(a){return t("error","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:210","JSONè§£æžé”™è¯¯:",a),t("error","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:211","åŽŸå§‹æ•°æ®:",o.data),uni.hideLoading(),void uni.showToast({title:"ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none"})}if(200===s.code){const a={user_id:e,title:this.title,description:this.description,video_url:s.data.url,tags:this.tags.join(",")},o=await uni.request({url:this.apiBase+"publish_video.php",method:"POST",data:a,header:{"Content-Type":"application/json"}});t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:238","å‘å¸ƒè§†é¢‘å“åº”:",o),t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:239","å‘å¸ƒå“åº”çŠ¶æ€ç :",o.statusCode),t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:240","å‘å¸ƒå“åº”æ•°æ®:",o.data),uni.hideLoading(),200===o.statusCode&&200===o.data.code?(t("log","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:245","è§†é¢‘å‘å¸ƒæˆåŠŸ"),uni.showToast({title:"å‘å¸ƒæˆåŠŸ",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)):uni.showToast({title:o.data.message||"å‘å¸ƒå¤±è´¥",icon:"none"})}else uni.hideLoading(),uni.showToast({title:s.message||"ä¸Šä¼ å¤±è´¥",icon:"none"})}catch(o){uni.hideLoading(),t("error","at pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video.vue:269","å‘å¸ƒè§†é¢‘é”™è¯¯:",o),uni.showToast({title:"ç½‘ç»œé”™è¯¯",icon:"none"})}}}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"nav-bar"},[e.createElementVNode("text",{class:"nav-back",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},"â€¹"),e.createElementVNode("text",{class:"nav-title"},"å‘è§†é¢‘"),e.createElementVNode("text",{class:"nav-publish",onClick:a[1]||(a[1]=(...e)=>n.publishVideo&&n.publishVideo(...e))},"å‘å¸ƒ")])]),e.createElementVNode("view",{class:"form-section"},[e.createElementVNode("view",{class:"video-upload",onClick:a[3]||(a[3]=(...e)=>n.chooseVideo&&n.chooseVideo(...e))},[i.videoUrl?(e.openBlock(),e.createElementBlock("view",{key:1,class:"video-preview"},[e.createElementVNode("video",{class:"preview-video",src:i.videoUrl,"object-fit":"contain"},null,8,["src"]),e.createElementVNode("view",{class:"remove-video",onClick:a[2]||(a[2]=e.withModifiers(((...e)=>n.removeVideo&&n.removeVideo(...e)),["stop"]))},"âœ•")])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-placeholder"},[e.createElementVNode("text",{class:"upload-icon"},"ðŸ“¹"),e.createElementVNode("text",{class:"upload-text"},"ç‚¹å‡»ä¸Šä¼ è§†é¢‘")]))]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"è§†é¢‘æ ‡é¢˜"),e.withDirectives(e.createElementVNode("input",{class:"input","onUpdate:modelValue":a[4]||(a[4]=e=>i.title=e),placeholder:"è¯·è¾“å…¥è§†é¢‘æ ‡é¢˜",maxlength:"50"},null,512),[[e.vModelText,i.title]]),e.createElementVNode("text",{class:"count"},e.toDisplayString(i.title.length)+"/50",1)]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"è§†é¢‘æè¿°"),e.withDirectives(e.createElementVNode("textarea",{class:"textarea","onUpdate:modelValue":a[5]||(a[5]=e=>i.description=e),placeholder:"ä»‹ç»ä¸€ä¸‹ä½ çš„è§†é¢‘...",maxlength:"200",onInput:a[6]||(a[6]=(...e)=>n.onDescriptionInput&&n.onDescriptionInput(...e))},null,544),[[e.vModelText,i.description]]),e.createElementVNode("text",{class:"count"},e.toDisplayString(i.description.length)+"/200",1)]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"æ·»åŠ è¯é¢˜"),e.createElementVNode("view",{class:"tags-input"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.tags,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:"tag",key:a,onClick:e=>n.removeTag(a)}," #"+e.toDisplayString(t),9,["onClick"])))),128)),e.withDirectives(e.createElementVNode("input",{class:"tag-input-field","onUpdate:modelValue":a[7]||(a[7]=e=>i.tagInput=e),placeholder:"è¾“å…¥è¯é¢˜æ ‡ç­¾",onConfirm:a[8]||(a[8]=(...e)=>n.addTag&&n.addTag(...e))},null,544),[[e.vModelText,i.tagInput]])])])]),i.showUploadModal?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-modal",onClick:a[13]||(a[13]=e.withModifiers((e=>i.showUploadModal=!1),["self"]))},[e.createElementVNode("view",{class:"modal-content",onClick:a[12]||(a[12]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},"é€‰æ‹©è§†é¢‘æ¥æº"),e.createElementVNode("text",{class:"modal-close",onClick:a[9]||(a[9]=e=>i.showUploadModal=!1)},"âœ•")]),e.createElementVNode("view",{class:"modal-body"},[e.createElementVNode("view",{class:"upload-option",onClick:a[10]||(a[10]=(...e)=>n.chooseFromAlbum&&n.chooseFromAlbum(...e))},[e.createElementVNode("text",{class:"upload-icon"},"ðŸ–¼ï¸"),e.createElementVNode("text",{class:"upload-text"},"ä»Žç›¸å†Œé€‰æ‹©")]),e.createElementVNode("view",{class:"upload-option",onClick:a[11]||(a[11]=(...e)=>n.recordVideo&&n.recordVideo(...e))},[e.createElementVNode("text",{class:"upload-icon"},"ðŸ“·"),e.createElementVNode("text",{class:"upload-text"},"æ‹æ‘„è§†é¢‘")])])])])):e.createCommentVNode("",!0)])}],["__scopeId","data-v-1ecdc669"]]);const g=o({data:()=>({})},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"}," é¡µé¢ - æé—® ")}]]);const p=o({data:()=>({videoUrl:"",title:"",author:"",views:"",poster:""}),onLoad(e){e.videoUrl&&(this.videoUrl=decodeURIComponent(e.videoUrl)),e.title&&(this.title=decodeURIComponent(e.title)),e.author&&(this.author=decodeURIComponent(e.author)),e.views&&(this.views=decodeURIComponent(e.views))},methods:{goBack(){uni.navigateBack()},onVideoError(e){t("error","at pages/video-player/video-player.vue:62","è§†é¢‘æ’­æ”¾é”™è¯¯:",e),uni.showToast({title:"è§†é¢‘åŠ è½½å¤±è´¥",icon:"none"})},onVideoPlay(){t("log","at pages/video-player/video-player.vue:69","è§†é¢‘å¼€å§‹æ’­æ”¾")},onVideoPause(){t("log","at pages/video-player/video-player.vue:72","è§†é¢‘æš‚åœ")}}},[["render",function(t,a,o,s,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"video-container"},[e.createElementVNode("video",{class:"video-player",src:i.videoUrl,poster:i.poster,controls:"",autoplay:"","show-center-play-btn":"",onError:a[0]||(a[0]=(...e)=>n.onVideoError&&n.onVideoError(...e)),onPlay:a[1]||(a[1]=(...e)=>n.onVideoPlay&&n.onVideoPlay(...e)),onPause:a[2]||(a[2]=(...e)=>n.onVideoPause&&n.onVideoPause(...e))},null,40,["src","poster"])]),e.createElementVNode("view",{class:"video-info"},[e.createElementVNode("text",{class:"video-title"},e.toDisplayString(i.title),1),e.createElementVNode("view",{class:"video-meta"},[e.createElementVNode("text",{class:"author"},e.toDisplayString(i.author),1),e.createElementVNode("text",{class:"views"},e.toDisplayString(i.views),1)])]),e.createElementVNode("view",{class:"back-button",onClick:a[3]||(a[3]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("text",{class:"back-icon"},"â€¹"),e.createElementVNode("text",{class:"back-text"},"è¿”å›ž")])])}],["__scopeId","data-v-e86317ad"]]);__definePage("pages/login/login",s),__definePage("pages/settings/settings",i),__definePage("pages/edit-profile/edit-profile",n),__definePage("pages/tabbar/tabbar-1/tabbar-1",r),__definePage("pages/tabbar/tabbar-2/tabbar-2",l),__definePage("pages/tabbar/tabbar-3/tabbar-3",c),__definePage("pages/tabbar/tabbar-4/tabbar-4",d),__definePage("pages/tabbar/tabbar-5/tabbar-5",u),__definePage("pages/tabbar-3-detial/tabbar-3-release/tabbar-3-release",m),__definePage("pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video",h),__definePage("pages/tabbar-3-detial/tabbar-3-qa/tabbar-3-qa",g),__definePage("pages/video-player/video-player",p);const b={onLaunch:function(){t("log","at App.vue:4","App Launch"),setTimeout((()=>{uni.setTabBarBadge({index:1,text:"31"}),uni.showTabBarRedDot({index:3})}),1e3)},onShow:function(){t("log","at App.vue:17","App Show")},onHide:function(){t("log","at App.vue:20","App Hide")}};const{app:w,Vuex:v,Pinia:V}={app:e.createVueApp(b)};uni.Vuex=v,uni.Pinia=V,w.provide("__globalStyles",__uniConfig.styles),w._component.mpType="app",w._component.render=()=>{},w.mount("#app")}(Vue);
